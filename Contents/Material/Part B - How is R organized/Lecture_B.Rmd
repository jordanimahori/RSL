---
title: 'Basics of R'
author: "Statistical Programming with R"
date: ""
output:
  ioslides_presentation:
    fig_height: 5
    fig_width: 5
    logo: logo_en.png
    transition: faster
    smaller: false
  beamer_presentation: default
---


# Vectors, Matrices and Data Frames

## More than one element
- Several elements of the same type, e.g. the integers from 1 to 5, can be concatenated into a vector
```{r}
a <- c(1, 2, 3, 4, 5)
a
```

- As is typical for `R` there a several ways to accomplish this
```{r}
b <- 5:1
b
```


## Calling elements in vectors
If we would want just the third element, we would type
```{r}
a[3]
```


## Multiple vectors in one object
This we would refer to as a matrix
```{r}
c <- matrix(c(a, b), nrow = 5, ncol = 2)
c
```


## Calling elements in matrices #1
- The first row is called by
```{r}
c[1, ]
```

- The second column is called by
```{r}
c[, 2]
```


## Calling elements in matrices #2
- The intersection of the first row and second column is called by
```{r}
c[1, 2]
```

In short; square brackets [] are used to call elements, rows, columns (and much more beyond the scope of this course)


# Data Frames

## Data frames
```{r}
d <- data.frame("V1" = rnorm(5),
                "V2" = rnorm(5, mean = 5, sd = 2), 
                "V3" = letters[1:5])
d
```

We 'filled' a dataframe with two randomly generated sets from the normal distribution - where $V1$ is standard normal and $V2 \sim N(5,2)$ - and a character set. 


## Calling columns elements in data frames
Both
```{r}
d[, "V2"] # and
d[, 2]
```
yield the second column. But we can also use `$` to call variable names in data frame objects
```{r}
d$V2
```



# Operations

## Basic Operations

- R operates much as you would expect a calculator to function. 

```{r}
1 + 2

2*3

6 / 1.3

2^5
```


## Vectorised Operations

- Many operations are 'vectorised', meaning that they are designed to operate on vectors. 

```{r}
a + b

a * b

a / b

a^b
```
 

## Logical Operations

- Logical operators are signs that evaluate a statement, such as `==`, `<`, `>`, `<=`, `>=`, `|` (OR) as well as `&` (AND). 
- Typing `!` before a logical operator takes the complement of that action. There are more operations, but these are the most useful. 

```{r}
a > 3
```

## Logical operators (cont'd)
- In fact, `c != 3` returns a matrix 
```{r echo=FALSE}
a != 3
```
- Remember `c`?: 
```{r echo=FALSE}
a
```


## Things that cannot be done
- Things that have no representation in real number space (at least not without tremendous effort)
    - For example, the following code returns "Not a Number"
```{r}
0 / 0
```

- Also impossible are calculations based on missing values (NA's)
```{r}
mean(c(1, 2, NA, 4, 5))
```


## Solutions for missing values
There are two easy ways to perform "listwise deletion":
```{r}
mean(c(1, 2, NA, 4, 5), na.rm = TRUE)
mean(na.omit(c(1, 2, NA, 4, 5)))
```


# Data Types

## Numeric Data
There are different types of 'numeric' data, consisting of:

* Integers
* Floats ('single' and 'double' precision)

```{r}
3L - 2L == 1

(3 - 2.9) - .1
```

Floating point numbers are essentially scientific notation:

Roughly speaking, a single-precision floating point can hold about 8 digits, and 
a double can hold about 16 digits. 


## Character Data
Character data is of type Character. 

```{r}
library(stringr)
a = c("Ishmail Enterprise", "Bah Industries", "Sheku & Sheku Enterprise", 
      "Rahim and Sons.", "Philip Inc.")
a[str_detect(a, "Enterprise")]
```


## Logical/Boolean (True/False) Data
* Consists of TRUE or FALSE and are the result of logical operations. 
* They can be used for subsetting a vector/array/data.frame as seen earlier, in `if` statements and elsewhere.

```{r}
TRUE == FALSE

a <- c(1, 2, 3, 4)
b <- c(4, 3, 2, 1)
a > b

r_descriptors <- c("powerful", "flexible", "frustrating")
"frustrating" %in% r_descriptors
```


## Factors
* Factors represent categorical data with a finite number of categories.
* They are especially useful when performing calculations on subsets of data.

```{r}
head(mtcars, n = 4)
mtcars$fuel_consumption <- ifelse(mtcars$mpg < mean(mtcars$mpg), "high", "low")

table(mtcars$cyl, mtcars$fuel_consumption)
```


## A Final Word

- Data types determine which operations are and are not permissible, and how a function behaves. 
- If you are running into weird errors, check that your data is of the type you expect.

